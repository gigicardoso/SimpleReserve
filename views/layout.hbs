<!DOCTYPE html>
<html>
  <head>
    <title>{{title}}</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cadastro de Sala</title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link rel="stylesheet" href="/stylesheets/sidebar.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" />
    <!-- <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon" /> -->
    <style>
      body{
        background-color: #f4f6ee;
      }
    </style>
  </head>
  <body>
    {{#if showSidebar}}
      <div class="sidebar"> 
        <div class="sidebar-header">
          <h4>Simple Reserve</h4>
        </div>
        <ul class="sidebar-menu">


          <a href="/home">
          <div>
          <li class="{{#if isAgenda}}active{{/if}}">
            <i class="bi bi-calendar-check"></i> <span>Minha Agenda</span>            
          </li>
          </a>
          </div>


        <a href="/reservasDoDia.hbs"></a>
        <div>
          <li class="{{#if isReservasDia}}active{{/if}}">
            <i class="bi bi-list-check"></i> <span>Reservas do Dia</span>
          </li>
          </a>
        </div>

          <a href="/novareserva">
          <div>
          <li class="{{#if isNovaReserva}}active{{/if}}">
            <i class="bi bi-plus-circle"></i> <span>Nova Reserva</span>
          </li>
          </a>
        </div>

           <a href="#">
          <div>
          <li class="{{#if isPesquisar}}active{{/if}}">
           <i class="bi bi-search"></i> <span>Pesquisar</span>
          </li>
          </a>
        </div>

        <a href="#">
          <div>
          <li class="{{#if isHistorico}}active{{/if}}">
            <i class="bi bi-file-earmark-text"></i> <span>Emitir Histórico</span>
          </li>
          </a>
        </div>

          <a href="#">
          <div>
          <li class="{{#if isConta}}active{{/if}}">
            <i class="bi bi-person-circle"></i> <span>Minha Conta</span>
          </li>
          </a>
          </div>



          <li class="{{#if isSair}}active{{/if}}">
            <a href="#" id="btn-logout"><i class="bi bi-box-arrow-right"></i> <span>Sair</span></a>
          </li>


          <div class="sidebar-divider"></div>
    
           <a href="/adm">
          <div>
          <li class="{{#if isGerenciador}}active{{/if}}">
           <i class="bi bi-gear"></i> <span>ADM</span>
          </li></a>
          </div>
        </ul>
      </div>
    {{/if}}
    {{#if showLogo}}
      <div class="logoSala">
        <img
          src="/images/logoLogin.png"
          alt="Simple Reserve Logo"
          class="logofoto"
        />
      </div>
    {{/if}}
    {{> breadcrumb}}
    {{{body}}}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous">
    </script>
    <script>
  document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.createElement('button');
    const overlay = document.createElement('div');
    
    // Só mostra o botão sanduíche em telas pequenas
    function isMobile() {
      return window.innerWidth <= 576;
    }
    
    function updateToggleBtnVisibility() {
      if (isMobile()) {
        toggleBtn.style.display = 'block';
      } else {
        toggleBtn.style.display = 'none';
        sidebar.classList.remove('active');
        overlay.style.display = 'none';
      }
    }

    toggleBtn.className = 'sidebar-toggle';
    toggleBtn.innerHTML = '<i class="bi bi-list"></i>';
    overlay.className = 'sidebar-overlay';
    overlay.addEventListener('click', closeSidebar);
    document.body.appendChild(toggleBtn);
    document.body.appendChild(overlay);
    
    function toggleSidebar() {
      sidebar.classList.toggle('active');
      overlay.style.display = sidebar.classList.contains('active') ? 'block' : 'none';
    }
    function closeSidebar() {
      sidebar.classList.remove('active');
      overlay.style.display = 'none';
    }
    toggleBtn.addEventListener('click', toggleSidebar);
    document.querySelectorAll('.sidebar-menu a').forEach(item => {
      item.addEventListener('click', closeSidebar);
    });
    window.addEventListener('resize', updateToggleBtnVisibility);
    updateToggleBtnVisibility();
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const btnLogout = document.getElementById('btn-logout');
    if (btnLogout) {
      btnLogout.addEventListener('click', function(e) {
        e.preventDefault();
        if (confirm('Deseja realmente sair do sistema?')) {
          window.location.href = '/logout';
        }
      });
    }
  });
</script>
  </body>
</html>